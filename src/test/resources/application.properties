# --- Make sure placeholders don't break tests ---
discord.token=dummy-test-token
spring.ai.ollama.base-url=http://localhost:11434

# --- H2 datasource for tests ---
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# --- Hibernate ---
spring.jpa.hibernate.ddl-auto=create-drop

# --- IMPORTANT: don't run your Postgres SQL init scripts in tests ---
spring.sql.init.mode=never

# keep your app-specific settings (optional, but fine)
recent.chat.memory.message.limit=6
group.chat.memory.message.limit=8
group.chat.time.window.minutes=120

# Consider adding these for better test isolation:
spring.jpa.show-sql=false
logging.level.org.hibernate.SQL=OFF
spring.jpa.properties.hibernate.format_sql=false